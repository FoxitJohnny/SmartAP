apiVersion: v1
kind: Secret
metadata:
  name: {{ include "smartap.fullname" . }}-secret
  labels:
    {{- include "smartap.labels" . | nindent 4 }}
type: Opaque
data:
  # Database
  POSTGRES_PASSWORD: {{ .Values.secrets.postgresPassword | b64enc | quote }}
  
  # Redis (optional)
  {{- if .Values.secrets.redisPassword }}
  REDIS_PASSWORD: {{ .Values.secrets.redisPassword | b64enc | quote }}
  {{- end }}
  
  # Application secrets
  SECRET_KEY: {{ .Values.secrets.secretKey | b64enc | quote }}
  JWT_SECRET: {{ .Values.secrets.jwtSecret | b64enc | quote }}
  
  # External services
  FOXIT_API_KEY: {{ .Values.secrets.foxitApiKey | b64enc | quote }}
  {{- if .Values.secrets.openaiApiKey }}
  OPENAI_API_KEY: {{ .Values.secrets.openaiApiKey | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.anthropicApiKey }}
  ANTHROPIC_API_KEY: {{ .Values.secrets.anthropicApiKey | b64enc | quote }}
  {{- end }}
  
  # Email (optional)
  {{- if .Values.secrets.smtpPassword }}
  SMTP_PASSWORD: {{ .Values.secrets.smtpPassword | b64enc | quote }}
  {{- end }}
